{% extends "layout.html" %}
{% block body %}

<!-- Page Header -->
  <header class="masthead" style="background-image: url({{ url_for('static',filename='img/home-bg.jpg') }})">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="site-heading">
            <h2>Admin Panel</h2>
            <span class="subheading">Manage your post</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="container">
    <div class="row">
    <div class="col-lg-12 col-md-12 mx-auto">

   <h2> Basic Actions</h2>
        <a href="/edit/0"><button class="btn btn-primary float-right">Add post</button></a><br><br>
        <hr>
        <a href="/dashboard/{{current_user.get_id()}}"><button class="btn btn-primary float-right">Dashboard Home</button></a><br><br>
        <hr>
        <a href="/logout"><button class="btn btn-primary float-right">Logout</button></a><br><br>
        <hr>

  <h2>Edit a post</h2>
  {%for msg in get_flashed_messages() %}
  {% if msg=='Title/Slug should be unique' %}
  <div class="alert alert-warning alert-dismissible fade show" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    {{get_flashed_messages().pop()}}
  </div>
  {%  endif %}
  {% endfor %}
          <form name="sentMessage" id="contactForm" action="/posts/edit/{{sno}}" , method="POST", enctype="multipart/form-data" novalidate>
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>Title</label>
              <input type="text" class="form-control" placeholder="Title" name="title" id="title" required data-validation-required-message="Please enter your name." value="{{post.title}}">
              <p class="help-block text-danger"></p>
            </div>
          <!-- </div> -->
            <div class="form-group floating-label-form-group controls">
              <label>Tagline</label>
              <input type="text" class="form-control" placeholder="Tagline" name="tagline" id="tagline" required data-validation-required-message="Please enter your email address." value="{{post.tagline}}">
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <div class="control-group">
            <div class="form-group col-xs-15 floating-label-form-group controls">
              <label>Slug</label>
              <input type="tel" class="form-control" placeholder="Slug" name="slug" id="slug" required data-validation-required-message="Please enter your phone number." value="{{post.slug}}">
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>Content</label>
              <textarea rows="5" class="form-control" placeholder="Content" name="content" id="content" required data-validation-required-message="Please enter a message." >{{post.content}}</textarea>
              <p class="help-block text-danger"></p>
            </div>
          </div>
          <div class="control-group">
            <div class="form-group floating-label-form-group controls">
              <label>Image File</label>
              <h3>Upload a Image</h3><br>
              <input type='file'class="form-control" placeholder="Image File" name="img_file" id="img_file" value="{{post.img_file}}">
              <p class="help-block text-danger"></p>
              <h6>Applicable formats: <b>'png', 'jpg', 'jpeg', 'gif'</b></h6>
            </div>
          </div>
          <br>
          <div id="success"></div>
          <div class="form-group">
            <center>  <button type="submit" class="btn btn-primary" id="sendMessageButton">Submit</button>  </center>
          </div>

      </div>
    </div>
  </div>

{% endblock %}
